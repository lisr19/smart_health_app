<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>疾病百科分类页面</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="css/style.css" />
		<script type="text/javascript" src="js/rem.js"></script>
		<script type="text/javascript" src="js/iconfont.js"></script>
	</head>

	<body>

		<div class="header" style="background-image: url(img/background.svg);background-size:cover;height: 1.4rem;">
			<div class="baike-header">
				<div class="baike-header-left" id="back">
					<img src="img/return.png" />
				</div>
				<div class="baike-input">
					<input type="text" id="diseaseSE" placeholder="请输入疾病 进行查询"
						onfocus="this.placeholder=''"
						 onblur="this.placeholder='请输入疾病 进行查询'" />
				</div>
				<div class="baike-search-img" id="search"/>
				   <img  src="img/Shape.png" />
				</div>
			</div>
		</div>
		<div class="mui-scroll-wrapper" style="margin-top: 1.5rem;" id="yaopin-from">
			<div class="mui-scroll">
				<!--主内容区-->

				<div class="keshi">
					科室分类
				</div>
				<div class="keshi-content">
					<button class="keshi-option" data-department="1">内科</button>
					<button class="keshi-option" data-department="2">外科</button>
					<button class="keshi-option" data-department="3">儿科</button>
					<button class="keshi-option" data-department="4">妇科</button>
					<button class="keshi-option" data-department="5">男科</button>
					<button class="keshi-option" data-department="6">皮肤性病科</button>
					<button class="keshi-option" data-department="7">五官科</button>
					<button class="keshi-option" data-department="9">精神心理科</button>
					<button class="keshi-option" data-department="8">老年科</button>
					<button class="keshi-option" data-department="10">其他</button>
				</div>

				<!--主内容区结束-->
				<div style="width: 7.5rem;height: 1.6rem;"></div>
			</div>
		</div>

		<script type="text/javascript" src="js/mui.min.js"></script>
		<script type="text/javascript" src="js/vue.js"></script>
		<script type="text/javascript" src="js/configUrl.js" ></script>

		<script>
			mui.init();
			mui.plusReady(function() {

				//滚动
				mui('.mui-scroll-wrapper').scroll({
					scrollY: true,
					deceleration: 0.0003,
					indicators: false
				});

				//监听返回
				document.getElementById('back').addEventListener('tap', function() {
					mui.back();
				});

				//搜索疾病
				document.getElementById('search').addEventListener('tap', function() {

					var searchValue = document.getElementById('diseaseSE').value;

					
					mui.openWindow({
								url:'diseaseSearchResult.html',
								id:'diseaseSearchResult',
								extras:{
									searchValue:searchValue
								}
							})
				

				});
				
				
				//查询结果
				document.getElementById('diseaseSE').addEventListener('keypress', function(event) {
					
					
					 if(event.keyCode == "13") {
                      document.activeElement.blur();//收起虚拟键盘
                   var searchValue = document.getElementById('diseaseSE').value;

					
					mui.openWindow({
								url:'diseaseSearchResult.html',
								id:'diseaseSearchResult',
								extras:{
									searchValue:searchValue
								}
							})
                   }
					
					
					
				});
				
				

				//根据科室筛选疾病
				mui(".keshi-content").on('tap', '.keshi-option', function() {

					var thisOption = this;
					var department = thisOption.getAttribute('data-department');
					var despartname = thisOption.innerHTML;

					mui.openWindow({
						url: 'diseaseList.html',
						id: 'diseaseList',
						extras: {
							department: department,
							despartname: despartname
						}
					})

				});

			});
		</script>
	</body>

</html>